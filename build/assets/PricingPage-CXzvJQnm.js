import{c as lt,u as ot,k as kt,l as ct,g as Y,r,j as e,C as dt,M as St,b as ke,f as Rt,a as Ct,h as We,N as Pt,B as Lt,t as Xe,d as He,T as Dt,F as At,e as It,s as Mt}from"./index-BqufuT4g.js";import{Pricing as Tt}from"./Pricing-vjiCHPvi.js";import{d as ae,i as B,c as ne,a as Ne,Q as Et}from"./QuoteForm-CxFsgMvO.js";import{F as et}from"./fixedPricing-Dbp5ScvP.js";import{u as _t,p as Ft,f as tt}from"./currency-PzGMRhPr.js";import{OrderForm as Ot}from"./OrderForm-l8y8gr3K.js";import"./orderNotes-CAuR1Wiu.js";import"./scrollLock-BK_fv_5M.js";import"./calendar-CIWN1ca_.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],Kt=lt("navigation",$t);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],st=lt("x",Gt),Ie={lat:54.3776,lon:18.4662},nt="Terminal pasazerski odloty, Port Lotniczy Gdansk im. Lecha Walesy",Me="AIzaSyCZn_Y7YkTDjJe8715PJ0jVbcwaim7kKFE",Te={lat:54.352,lon:18.6466},Ee=6e4,Bt=2.5,qt={lat:54.3723,lon:18.3837},Ut=3,zt={lat:54.3426,lon:18.364},Qt=4,Yt={lat:54.5189,lon:18.5305},Zt=4,Vt={lat:54.4416,lon:18.5601},Jt=3,ve={gdansk:{day:3.9,night:5.85},outside:{day:7.8,night:11.7}},at=(t,l=10)=>Math.round(t/l)*l,me=t=>Math.round(t*10)/10,rt=t=>t.trim().replace(/hitlon/gi,"hilton"),_e=(t,l)=>{const N=l/111320,h=l/(111320*Math.cos(t.lat*Math.PI/180));return{north:t.lat+N,south:t.lat-N,east:t.lon+h,west:t.lon-h}},Wt=(t,l,N,h=30)=>{if(h<=0)return N(t)?1:0;let w=0;for(let R=0;R<=h;R+=1){const A=R/h,C={lat:t.lat+(l.lat-t.lat)*A,lon:t.lon+(l.lon-t.lon)*A};N(C)&&(w+=1)}return w/(h+1)},Xt=(t,l)=>{if(t.length<2)return{totalKm:0,insideKm:0,outsideKm:0,insideRatio:0};const N=.25,h=50;let w=0,R=0;for(let C=1;C<t.length;C+=1){const b=t[C-1],v=t[C],y=ae(b,v);if(!Number.isFinite(y)||y<=0)continue;w+=y;const P=Math.min(h,Math.max(1,Math.ceil(y/N))),I=y/P;for(let i=0;i<P;i+=1){const j=i/P,F=(i+1)/P,q={lat:b.lat+(v.lat-b.lat)*((j+F)/2),lon:b.lon+(v.lon-b.lon)*((j+F)/2)};l(q)&&(R+=I)}}const A=w>0?R/w:0;return{totalKm:w,insideKm:R,outsideKm:Math.max(0,w-R),insideRatio:A}},it=t=>t<=5?50:t<=10?80:t<=15?100:t<=20?120:t<=25?150:null,Ht=(t,l)=>t<=20?l?150:120:t<=30?l?200:150:t<=40?l?250:200:null;function es(){const{t,locale:l}=ot(),N=kt(),h=_t(),w=t.pricingCalculator.dayRateLabel,R=()=>t.pricingCalculator.dayRateLabel,A=t.pricingCalculator.airportAddress,C=`${ct(l)}/${Y(l,"pricing")}#pricing-booking`,[b,v]=r.useState(""),[y,P]=r.useState(""),[I,i]=r.useState("custom"),[j,F]=r.useState("custom"),[q,U]=r.useState([]),[Se,z]=r.useState([]),[ut,Re]=r.useState(null),[gt,Ce]=r.useState(null),[Fe,Z]=r.useState(null),[Oe,V]=r.useState(null),$e=typeof window<"u"&&new URLSearchParams(window.location.search).get("debug")==="1",[xe,Pe]=r.useState(!1),he=r.useRef(null),Le=r.useRef(null),fe=r.useRef(null),Ke=r.useRef(null);r.useEffect(()=>{if(!N.search||Ke.current===N.search)return;Ke.current=N.search;const s=new URLSearchParams(N.search),n=s.get("to"),c=s.get("from");c==="airport"&&(i("airport"),v(A),Z(null),U([])),c==="custom"&&i("custom"),n&&(F("custom"),P(n),V(null),z([]))},[N.search,A]),r.useEffect(()=>{if(typeof window>"u")return;if(window.google?.maps){Pe(!0);return}const s=document.querySelector('script[data-google-maps="true"]');if(s){s.addEventListener("load",()=>Pe(!0),{once:!0});return}const n=document.createElement("script");n.src=`https://maps.googleapis.com/maps/api/js?key=${encodeURIComponent(Me)}&loading=async&v=weekly`,n.async=!0,n.defer=!0,n.dataset.googleMaps="true",n.addEventListener("load",()=>Pe(!0)),document.head.appendChild(n)},[]);const pt=()=>{if(!xe)return null;if(he.current)return he.current;const s=window.google;return s?.maps?(he.current=new s.maps.DirectionsService,he.current):null},le=async()=>{if(!xe)return null;const s=window.google;if(!s?.maps?.importLibrary)return null;if(Le.current)return Le.current;const n=await s.maps.importLibrary("places");return Le.current=n,n},De=async()=>{const s=await le();return s?(fe.current||(fe.current=new s.AutocompleteSessionToken),fe.current):null},Ge=()=>{fe.current=null},Be=async s=>{const n=await le();if(!n)return null;try{const c=new n.Place({id:s});await c.fetchFields({fields:["location"]});const p=c.location,O=typeof p?.lat=="function"?p.lat():Number(p?.lat),$=typeof p?.lng=="function"?p.lng():Number(p?.lng);return!Number.isFinite(O)||!Number.isFinite($)?null:(Ge(),{lat:O,lon:$})}catch{return null}},[be,re]=r.useState(null),[Ae,J]=r.useState(!1),[qe,W]=r.useState(null),[m,oe]=r.useState(null),ce=r.useRef(new Map),de=r.useRef(new Map);r.useEffect(()=>{Ft()},[]),r.useEffect(()=>{const s=rt(b);if(s.length<3){U([]),Re(null);return}let n=!0;const c=new AbortController,p=window.setTimeout(async()=>{try{const O=await le();if(!O){U([]);return}const $=async o=>{const H=await De(),ee={input:s,region:"pl",language:l,sessionToken:H??void 0};o&&(ee.locationBias=_e(Te,Ee));const{suggestions:K}=await O.AutocompleteSuggestion.fetchAutocompleteSuggestions(ee);return Array.isArray(K)?K:[]};let M=await $(!0);M.length===0&&(M=await $(!1));const X=M.map(o=>o.placePrediction).filter(o=>o?.placeId).map(o=>({label:typeof o?.text?.text=="string"?o.text.text:o?.text?.toString?.()??"",placeId:String(o.placeId??"")})).filter(o=>o.label&&o.placeId);if(!n)return;U(X),Re(X.length>0?null:"ZERO_RESULTS")}catch{if(!n)return;U([]),Re("ERROR")}},350);return()=>{n=!1,c.abort(),window.clearTimeout(p)}},[b,l]),r.useEffect(()=>{const s=rt(y);if(s.length<3){z([]),Ce(null);return}let n=!0;const c=new AbortController,p=window.setTimeout(async()=>{try{const O=await le();if(!O){z([]);return}const $=async o=>{const H=await De(),ee={input:s,region:"pl",language:l,sessionToken:H??void 0};o&&(ee.locationBias=_e(Te,Ee));const{suggestions:K}=await O.AutocompleteSuggestion.fetchAutocompleteSuggestions(ee);return Array.isArray(K)?K:[]};let M=await $(!0);M.length===0&&(M=await $(!1));const X=M.map(o=>o.placePrediction).filter(o=>o?.placeId).map(o=>({label:typeof o?.text?.text=="string"?o.text.text:o?.text?.toString?.()??"",placeId:String(o.placeId??"")})).filter(o=>o.label&&o.placeId);if(!n)return;z(X),Ce(X.length>0?null:"ZERO_RESULTS")}catch{if(!n)return;z([]),Ce("ERROR")}},350);return()=>{n=!1,c.abort(),window.clearTimeout(p)}},[y,l]),r.useEffect(()=>{const s=b.trim().length>=3,n=y.trim().length>=3;if(!s||!n){oe(null),W(null),J(!1);return}if(!xe){J(!1),W(null);return}let c=!0;const p=new AbortController,O=window.setTimeout(async()=>{J(!0),W(null);const $=a=>a.trim().toLowerCase(),M=async a=>{const d=$(a);if(!d)return null;if(ce.current.has(d))return ce.current.get(d)??null;const u=await le();if(!u)return null;const k=await De(),x={input:a,region:"pl",language:l,locationBias:_e(Te,Ee),sessionToken:k??void 0},{suggestions:G}=await u.AutocompleteSuggestion.fetchAutocompleteSuggestions(x),E=Array.isArray(G)?G[0]?.placePrediction:null;if(!E?.placeId)return ce.current.set(d,null),null;const S=E.toPlace?E.toPlace():new u.Place({id:E.placeId});await S.fetchFields({fields:["location"]});const g=S.location,L=typeof g?.lat=="function"?g.lat():Number(g?.lat),D=typeof g?.lng=="function"?g.lng():Number(g?.lng),_=Number.isFinite(L)&&Number.isFinite(D)?{lat:L,lon:D}:null;return _?(Ge(),ce.current.set(d,_),_):(ce.current.set(d,null),null)},X=async(a,d)=>{const u=`${a.lat.toFixed(5)},${a.lon.toFixed(5)}|${d.lat.toFixed(5)},${d.lon.toFixed(5)}`;if(de.current.has(u))return de.current.get(u)??null;const k=pt();if(!k)return de.current.set(u,null),null;const x=window.google,G=new x.maps.LatLng(a.lat,a.lon),E=new x.maps.LatLng(d.lat,d.lon),S=await new Promise(D=>{k.route({origin:G,destination:E,travelMode:x.maps.TravelMode.DRIVING,provideRouteAlternatives:!1},(_,te)=>{if(te!==x.maps.DirectionsStatus.OK){D({distance:null});return}const f=_?.routes?.[0]?.legs?.[0]?.distance?.value;if(typeof f!="number"||!Number.isFinite(f)){D({distance:null});return}const se=_?.routes?.[0]?.overview_path,Q=Array.isArray(se)?se.map(T=>({lat:typeof T?.lat=="function"?T.lat():Number(T?.lat),lon:typeof T?.lng=="function"?T.lng():Number(T?.lng)})).filter(T=>Number.isFinite(T.lat)&&Number.isFinite(T.lon)):void 0;D({distance:f,path:Q&&Q.length>1?Q:void 0})})});if(S.distance===null)return de.current.set(u,null),null;const L={km:S.distance/1e3,source:"google",path:S.path};return de.current.set(u,L),L},o=a=>ae(a,Ie)<=Bt,H=a=>ae(a,qt)<=Ut,ee=a=>ae(a,zt)<=Qt,K=a=>{const d=Object.entries(Ne);for(const[u,k]of d)if(B(a,k))return u;return null},mt=a=>a==="gdansk"?t.pricing.routes.gdansk:a==="gdynia"?t.pricing.routes.gdynia:"Sopot",we=(a,d,u,k,x)=>{const G=o(k),E=o(x),S=G||E,g=G?x:E?k:null,L=a==="bus"?1.5:1,D=B(k,ne.gdansk),_=B(x,ne.gdansk);if(K(k),K(x),S&&g){let f=K(g);if(f||(ae(g,Yt)<=Zt?f="gdynia":ae(g,Vt)<=Jt&&(f="sopot")),f){const se=d?et[a][f].night:et[a][f].day,Q=mt(f);return{price:se,allDay:!1,routeLabel:`${t.pricing.routes.airport} ↔ ${Q}`}}}if(S&&g&&H(g))return{price:Math.round(120*L),allDay:!0,routeLabel:t.quoteForm.fixedRouteDistance(me(u))};if(S&&g&&ee(g))return{price:Math.round(150*L),allDay:!0,routeLabel:t.quoteForm.fixedRouteDistance(me(u))};if(S&&g&&B(g,ne.gdansk)&&K(g)!=="gdansk"){const f=it(u);if(f)return{price:Math.round(f*L),allDay:!0,routeLabel:t.quoteForm.fixedRouteDistance(me(u))}}const te=!S&&D&&_?it(u):null;return te?{price:Math.round(te*L),allDay:!0,routeLabel:t.quoteForm.fixedRouteDistance(me(u))}:null};try{const a=I==="airport"?await M(nt)??Ie:Fe??await M(b),d=j==="airport"?await M(nt)??Ie:Oe??await M(y);if(!a||!d){if(!c)return;oe(null),W(t.pricingCalculator.noResult),J(!1);return}let u=null;try{u=await X(a,d)}catch{u=null}const k=ae(a,d),x=u?.km??k,G=me(x),E=B(a,ne.gdansk),S=B(d,ne.gdansk),g=u?.path?Xt(u.path,ie=>B(ie,ne.gdansk)):null,L=g?g.insideRatio:Wt(a,d,ie=>B(ie,ne.gdansk)),D=g?g.insideKm:x*L,_=g?g.outsideKm:Math.max(0,x-D),te=$e?{pickup:a,destination:d,straightDistance:Math.round(k*100)/100,routedDistance:u?.km??null,routeSource:u?.source??"none",insideRatio:Math.round(L*1e3)/1e3,gdanskKm:Math.round(D*100)/100,outsideKm:Math.round(_*100)/100}:void 0,f=we("standard",!1,x,a,d),se=we("standard",!0,x,a,d),Q=we("bus",!1,x,a,d),T=we("bus",!0,x,a,d);if(f&&Q&&se&&T){oe({type:"fixed",distanceKm:G,routeLabel:f.routeLabel,standard:{day:f,night:se},bus:{day:Q,night:T},debug:te}),W(null),J(!1);return}const xt=!(E&&S),ht=Ne.gdynia?B(a,Ne.gdynia)||B(d,Ne.gdynia):!1,je=(ie,ue)=>{const ge=ie==="bus"?1.5:1,Ye=ue?ve.gdansk.night:ve.gdansk.day,ft=ue?ve.outside.night:ve.outside.day,pe=at((D*Ye+_*ft)*ge,10),bt=x>0?Math.round(pe/x*100)/100:Ye,yt=x>100?x*2*(ue?4:3)*ge:pe*.9,Ze=120*ge,wt=ht?150*ge:Ze,Ve=xt?Ht(x,ue):null,jt=Ve?Ve*ge:0,Nt=Math.max(ue?wt:Ze,jt),Je=at(Math.max(yt,Nt),10),vt=pe>0?Math.max(0,Math.round((1-Je/pe)*100)):0;return{taximeterPrice:pe,taximeterRate:bt,proposedPrice:Je,savingsPercent:vt}};oe({type:"long",distanceKm:G,routeLabel:`${b} → ${y}`,standard:{day:je("standard",!1),night:je("standard",!0)},bus:{day:je("bus",!1),night:je("bus",!0)},debug:te}),W(null),J(!1);return}catch{if(!c||p.signal.aborted)return;oe(null),W(t.pricingCalculator.noResult),J(!1)}},600);return()=>{c=!1,p.abort(),window.clearTimeout(O)}},[b,y,Fe,Oe,l,t,xe]);const ye=s=>{const n=tt(s,h);return e.jsxs("div",{className:"min-w-[96px] text-right leading-tight",children:[e.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[s," PLN"]}),e.jsx("div",{className:"min-h-[16px] text-xs text-gray-500",children:n??""})]})},Ue=s=>{const n=tt(s,h);return e.jsxs("div",{className:"min-w-[96px] text-right leading-tight",children:[e.jsxs("div",{className:"text-xs font-semibold text-gray-700",children:[s," PLN"]}),e.jsx("div",{className:"min-h-[16px] text-xs text-gray-500",children:n??""})]})},ze=(s,n,c)=>{const p=n.allDay||n.price===c.price;return e.jsxs("div",{className:"flex h-full flex-col rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:s}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("span",{className:"text-sm text-gray-600",children:p?t.pricingCalculator.fixedAllDay:w}),ye(n.price)]}),!p&&e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-600 leading-tight",children:[t.pricingCalculator.nightRate," ",e.jsx("span",{className:"pricing-sunday-note text-gray-400",children:t.pricing.sundayNote})]}),ye(c.price)]})]})]})},Qe=(s,n,c)=>{const p=n.proposedPrice<=n.taximeterPrice&&c.proposedPrice<=c.taximeterPrice;return e.jsxs("div",{className:"flex h-full flex-col rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:s}),e.jsxs("div",{className:"mt-4 space-y-4",children:[p&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:t.pricingCalculator.taximeterLabel}),e.jsx("div",{className:"overflow-hidden rounded-lg border border-slate-200",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{className:"bg-slate-50 text-slate-500",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left font-medium",children:"Taryfa"}),e.jsx("th",{className:"px-3 py-2 text-right font-medium",children:"Stawka"}),e.jsx("th",{className:"px-3 py-2 text-right font-medium",children:"Cena"})]})}),e.jsxs("tbody",{className:"text-slate-700",children:[e.jsxs("tr",{className:"border-t border-slate-200",children:[e.jsx("td",{className:"px-3 py-2",children:w}),e.jsxs("td",{className:"px-3 py-2 text-right",children:[n.taximeterRate," PLN/km"]}),e.jsx("td",{className:"px-3 py-2 text-right",children:Ue(n.taximeterPrice)})]}),e.jsxs("tr",{className:"border-t border-slate-200",children:[e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"leading-tight",children:[e.jsx("div",{children:t.pricingCalculator.nightRate}),e.jsx("div",{className:"pricing-sunday-note text-slate-500",children:t.pricing.sundayNote})]})}),e.jsxs("td",{className:"px-3 py-2 text-right",children:[c.taximeterRate," PLN/km"]}),e.jsx("td",{className:"px-3 py-2 text-right",children:Ue(c.taximeterPrice)})]})]})]})})]}),e.jsx("div",{className:"rounded-xl px-4 py-3 shadow-sm",style:{border:"1px solid #bfdbfe",backgroundColor:"#eff6ff"},children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"inline-flex items-center gap-2 rounded-full font-semibold uppercase tracking-wide shadow-sm",style:{backgroundColor:"#bbf7d0",color:"#065f46",padding:"clamp(4px, 1.5vw, 6px) clamp(10px, 2.5vw, 12px)",fontSize:"clamp(10px, 2.6vw, 11px)"},children:t.pricingCalculator.guaranteedPriceLabel})})}),e.jsxs("div",{className:"w-full max-w-[420px]",children:[e.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white/70 px-3 py-2",children:[e.jsx("div",{className:"text-emerald-700",style:{fontSize:"clamp(11px, 2.8vw, 12px)"},children:R()}),e.jsx("div",{className:"mt-1 flex items-center gap-2",children:ye(n.proposedPrice)})]}),e.jsxs("div",{className:"rounded-lg border border-slate-200 bg-white/70 px-3 py-2",children:[e.jsxs("div",{className:"leading-tight",children:[e.jsx("div",{className:"text-emerald-700",style:{fontSize:"clamp(11px, 2.8vw, 12px)"},children:t.pricingCalculator.nightRate}),e.jsx("div",{className:"pricing-sunday-note text-slate-500",children:t.pricing.sundayNote})]}),e.jsx("div",{className:"mt-1 flex items-center gap-2",children:ye(c.proposedPrice)})]})]}),p&&n.savingsPercent>0&&e.jsxs("div",{className:"mt-2 hidden gap-3 sm:grid sm:grid-cols-2",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs("div",{className:"inline-flex items-center rounded-full font-semibold shadow-sm",style:{backgroundColor:"#ffe4e6",color:"#be123c",padding:"clamp(3px, 1.2vw, 5px) clamp(8px, 2vw, 10px)",fontSize:"clamp(9px, 2.2vw, 10px)"},children:["-",n.savingsPercent,"%"]})}),e.jsx("div",{className:"flex items-center justify-center",children:c.savingsPercent>0&&e.jsxs("div",{className:"inline-flex items-center rounded-full font-semibold shadow-sm",style:{backgroundColor:"#ffe4e6",color:"#be123c",padding:"clamp(3px, 1.2vw, 5px) clamp(8px, 2vw, 10px)",fontSize:"clamp(9px, 2.2vw, 10px)"},children:["-",c.savingsPercent,"%"]})})]})]})]})})]})]})};return e.jsx("section",{id:"pricing-calculator",className:"py-12 bg-slate-50",children:e.jsx("div",{className:"max-w-5xl mx-auto px-4",children:e.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:[e.jsx("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-blue-50 px-3 py-1 text-xs font-semibold text-blue-700",children:[e.jsx(dt,{className:"h-3.5 w-3.5"}),t.pricingCalculator.title]}),e.jsx("h2",{className:"text-2xl text-gray-900 mt-4",children:t.pricingCalculator.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:t.pricingCalculator.subtitle})]})}),e.jsxs("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"block",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.pricingCalculator.pickupLabel}),e.jsx("div",{className:"mt-2",style:{height:"2.5rem"},children:j!=="airport"?e.jsxs("div",{className:"flex flex-nowrap items-center gap-4 text-sm text-slate-700 whitespace-nowrap",style:{height:"2.5rem"},children:[e.jsxs("label",{className:"inline-flex items-center gap-2 whitespace-nowrap",children:[e.jsx("input",{type:"radio",name:"pickup-mode",value:"airport",checked:I==="airport",onChange:()=>{i("airport"),v(A),Z(null),U([])},className:"h-4 w-4 text-blue-600"}),t.pricingCalculator.airportLabel]}),e.jsxs("label",{className:"inline-flex items-center gap-2 whitespace-nowrap",children:[e.jsx("input",{type:"radio",name:"pickup-mode",value:"custom",checked:I==="custom",onChange:()=>{i("custom"),v(""),Z(null)},className:"h-4 w-4 text-blue-600"}),t.pricingCalculator.pickupCustomLabel]})]}):e.jsx("div",{"aria-hidden":"true",style:{height:"2.5rem"}})}),e.jsxs("div",{className:`mt-2 flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2 shadow-sm focus-within:border-blue-500 ${I==="airport"?"bg-slate-100":"bg-white"}`,children:[e.jsx(St,{className:"h-4 w-4 text-blue-600"}),e.jsx("input",{type:"text",value:b,onChange:s=>{v(s.target.value),Z(null)},onFocus:()=>re("pickup"),onBlur:()=>re(null),placeholder:t.pricingCalculator.pickupPlaceholder,className:"w-full bg-transparent text-sm text-gray-900 outline-none disabled:cursor-not-allowed disabled:text-slate-500",disabled:I==="airport"}),b.trim().length>0&&e.jsx("button",{type:"button",onClick:()=>{v(""),Z(null),U([]),I==="airport"&&i("custom")},className:"inline-flex h-6 w-6 items-center justify-center rounded-full text-slate-400 transition-colors hover:bg-slate-100 hover:text-slate-700","aria-label":"Clear pickup",children:e.jsx(st,{className:"h-4 w-4"})})]}),be==="pickup"&&q.length>0&&e.jsx("ul",{className:"mt-2 max-h-56 overflow-auto rounded-lg border border-slate-200 bg-white shadow-lg text-sm",children:q.map((s,n)=>e.jsx("li",{children:e.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-slate-700 hover:bg-blue-50",onMouseDown:c=>{c.preventDefault(),v(s.label),Z(null),U([]),re(null),Be(s.placeId).then(p=>{p&&Z(p)}).catch(()=>{})},children:s.label})},`${s.placeId}-${n}`))}),be==="pickup"&&q.length===0&&ut&&e.jsx("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600",children:"Brak podpowiedzi."})]}),e.jsxs("div",{className:"block",children:[e.jsx("span",{className:"text-sm text-gray-600",children:t.pricingCalculator.destinationLabel}),e.jsx("div",{className:"mt-2",style:{height:"2.5rem"},children:I!=="airport"?e.jsxs("div",{className:"flex flex-nowrap items-center gap-4 text-sm text-slate-700 whitespace-nowrap",style:{height:"2.5rem"},children:[e.jsxs("label",{className:"inline-flex items-center gap-2 whitespace-nowrap",children:[e.jsx("input",{type:"radio",name:"destination-mode",value:"airport",checked:j==="airport",onChange:()=>{F("airport"),P(A),V(null),z([])},className:"h-4 w-4 text-blue-600"}),t.pricingCalculator.airportLabel]}),e.jsxs("label",{className:"inline-flex items-center gap-2 whitespace-nowrap",children:[e.jsx("input",{type:"radio",name:"destination-mode",value:"custom",checked:j==="custom",onChange:()=>{F("custom"),P(""),V(null)},className:"h-4 w-4 text-blue-600"}),t.pricingCalculator.destinationCustomLabel]})]}):e.jsx("div",{"aria-hidden":"true",style:{height:"2.5rem"}})}),e.jsxs("div",{className:`mt-2 flex items-center gap-2 rounded-xl border border-slate-200 px-3 py-2 shadow-sm focus-within:border-blue-500 ${j==="airport"?"bg-slate-100":"bg-white"}`,children:[e.jsx(Kt,{className:"h-4 w-4 text-blue-600"}),e.jsx("input",{type:"text",value:y,onChange:s=>{P(s.target.value),V(null)},onFocus:()=>re("destination"),onBlur:()=>re(null),placeholder:t.pricingCalculator.destinationPlaceholder,className:"w-full bg-transparent text-sm text-gray-900 outline-none disabled:cursor-not-allowed disabled:text-slate-500",disabled:j==="airport"}),y.trim().length>0&&e.jsx("button",{type:"button",onClick:()=>{P(""),V(null),z([]),j==="airport"&&F("custom")},className:"inline-flex h-6 w-6 items-center justify-center rounded-full text-slate-400 transition-colors hover:bg-slate-100 hover:text-slate-700","aria-label":"Clear destination",children:e.jsx(st,{className:"h-4 w-4"})})]}),be==="destination"&&Se.length>0&&e.jsx("ul",{className:"mt-2 max-h-56 overflow-auto rounded-lg border border-slate-200 bg-white shadow-lg text-sm",children:Se.map((s,n)=>e.jsx("li",{children:e.jsx("button",{type:"button",className:"w-full px-3 py-2 text-left text-slate-700 hover:bg-blue-50",onMouseDown:c=>{c.preventDefault(),P(s.label),V(null),z([]),re(null),Be(s.placeId).then(p=>{p&&V(p)}).catch(()=>{})},children:s.label})},`${s.placeId}-${n}`))}),be==="destination"&&Se.length===0&&gt&&e.jsx("div",{className:"mt-2 rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm text-slate-600",children:"Brak podpowiedzi."})]})]}),Ae&&e.jsx("div",{className:"mt-6 rounded-2xl border border-blue-100 bg-blue-50 px-4 py-3 text-sm text-blue-700",children:t.pricingCalculator.loading}),!Ae&&qe&&e.jsx("div",{className:"mt-6 rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-800",children:qe}),!Ae&&m&&e.jsxs("div",{className:"mt-6 space-y-4",children:[e.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 p-6",children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500",children:t.pricingCalculator.distanceLabel}),e.jsx("div",{className:"mt-2 text-sm text-gray-700",children:m.routeLabel}),e.jsxs("div",{className:"mt-1 text-lg font-semibold text-gray-900",children:[m.distanceKm," km"]}),$e&&m.debug&&e.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 bg-white px-3 py-2 text-xs text-slate-600",children:[e.jsxs("div",{children:["pickup: ",m.debug.pickup.lat.toFixed(5),", ",m.debug.pickup.lon.toFixed(5)]}),e.jsxs("div",{children:["destination: ",m.debug.destination.lat.toFixed(5),", ",m.debug.destination.lon.toFixed(5)]}),e.jsxs("div",{children:["straight: ",m.debug.straightDistance," km"]}),e.jsxs("div",{children:["routed: ",m.debug.routedDistance?`${Math.round(m.debug.routedDistance*100)/100} km`:"null"]}),e.jsxs("div",{children:["source: ",m.debug.routeSource]}),e.jsxs("div",{children:["insideRatio: ",m.debug.insideRatio]}),e.jsxs("div",{children:["gdanskKm: ",m.debug.gdanskKm," km"]}),e.jsxs("div",{children:["outsideKm: ",m.debug.outsideKm," km"]})]})]}),m.type==="fixed"?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:t.pricingCalculator.resultsTitle}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[ze(t.pricingCalculator.standard,m.standard.day,m.standard.night),ze(t.pricingCalculator.bus,m.bus.day,m.bus.night)]})]}):e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-3",children:t.pricingCalculator.longRouteTitle}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[Qe(t.pricingCalculator.standard,m.standard.day,m.standard.night),Qe(t.pricingCalculator.bus,m.bus.day,m.bus.night)]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:t.pricingCalculator.note}),e.jsx("div",{className:"pt-2",children:e.jsx("a",{href:C,onClick:s=>{s.preventDefault(),ke("pricing-booking")||(window.location.href=C)},className:"inline-flex items-center justify-center rounded-full bg-blue-600 px-6 py-3 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-blue-700",children:t.pricingCalculator.orderNow})})]})]})})})}function ds(){const{t,locale:l}=ot(),N=Rt(),h=ct(l);Ct(t.pricingLanding.title);const w=r.useRef(!1),[R,A]=r.useState("standard"),[C,b]=r.useState(null),[v,y]=r.useState(!1),P=[{href:`${h}/${Y(l,"orderAirportGdansk")}`,label:t.routeLanding.orderLinks.airportGdansk},{href:`${h}/${Y(l,"orderAirportSopot")}`,label:t.routeLanding.orderLinks.airportSopot},{href:`${h}/${Y(l,"orderAirportGdynia")}`,label:t.routeLanding.orderLinks.airportGdynia},{href:`${h}/${Y(l,"orderCustom")}`,label:t.routeLanding.orderLinks.custom}];r.useEffect(()=>{if(typeof window>"u")return;const i=document.referrer;if(!i){w.current=!0;return}try{const j=new URL(i).origin;w.current=j!==window.location.origin}catch{w.current=!0}},[]),r.useEffect(()=>{v&&We("quote")},[v]);const I=i=>{if(w.current){N(`${h}/`,{replace:!0});return}i()};return r.useEffect(()=>{if(typeof window>"u")return;const i=window.location.hash;if(!i)return;const j=i.replace("#","");if(!j)return;let F=0;const q=()=>{F+=1,!(Mt(j)||F>10)&&window.setTimeout(q,120)};q()},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-32 sm:pb-0",children:[e.jsx(Pt,{}),e.jsxs("main",{children:[e.jsx("section",{className:"bg-white border-b border-gray-200",children:e.jsx("div",{className:"max-w-5xl mx-auto px-4 py-12",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-3xl p-8 shadow-sm",children:[e.jsx(Lt,{items:[{label:t.common.home,href:`${h}/`},{label:t.pricingLanding.title}]}),e.jsx("h1",{className:"text-3xl text-gray-900 mb-4",children:t.pricingLanding.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:t.pricingLanding.subtitle}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:t.pricingLanding.description}),e.jsxs("div",{className:"flex flex-col items-stretch gap-3 sm:flex-row sm:items-center",children:[e.jsx("a",{href:`${h}/${Y(l,"pricing")}#pricing-booking`,onClick:i=>{i.preventDefault(),Xe("pricing_landing_order"),ke("pricing-booking")||(window.location.href=`${h}/${Y(l,"pricing")}#pricing-booking`)},className:"inline-flex w-full items-center justify-center gap-2 rounded-lg bg-orange-700 px-6 py-3 text-white shadow-lg transition-colors hover:bg-orange-600 sm:w-auto animate-pulse-glow",children:t.pricingLanding.cta}),e.jsxs("button",{type:"button",onClick:()=>{Xe("pricing_landing_calculator"),ke("pricing-calculator")||(window.location.href=`${h}/${Y(l,"pricing")}#pricing-calculator`)},className:"gemini-cta inline-flex w-full items-center justify-center gap-2 rounded-lg px-6 py-3 text-blue-800 shadow-sm transition-colors hover:bg-blue-50 sm:w-auto",children:[e.jsx(dt,{className:"h-4 w-4"}),t.pricingLanding.calculatorCta]}),e.jsx("button",{type:"button",onClick:()=>{He("pricing_table"),ke("pricing-table")},className:"inline-flex w-full items-center justify-center gap-2 rounded-lg border border-gray-300 bg-white px-6 py-3 text-gray-700 shadow-sm transition-colors hover:border-gray-400 hover:text-gray-900 sm:w-auto",children:t.routeLanding.pricingLink})]}),e.jsxs("div",{className:"mt-4 flex flex-col items-start gap-2 text-sm text-gray-600 sm:flex-row sm:flex-wrap sm:items-center sm:gap-3",children:[e.jsx("span",{className:"text-xs uppercase tracking-wide text-gray-400",children:t.routeLanding.quickLinks}),P.map(i=>e.jsx("a",{href:i.href,onClick:()=>He("pricing_landing_order_link"),className:"text-blue-600 hover:text-blue-700",children:i.label},i.href))]})]})})}),e.jsx(es,{}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"max-w-5xl mx-auto px-4 grid gap-6 md:grid-cols-3",children:t.pricingLanding.highlights.map(i=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-6",children:[e.jsx("h2",{className:"text-gray-900 mb-2",children:i.title}),e.jsx("p",{className:"text-sm text-gray-600",children:i.body})]},i.title))})}),e.jsx(Tt,{vehicleType:R,onOrderRoute:i=>{We("order"),b(i)},onRequestQuote:()=>y(!0),onBack:()=>A("standard"),showBack:!1,variant:"landing",onVehicleTypeChange:A}),e.jsx("section",{className:"py-12 bg-white border-t border-gray-200",children:e.jsxs("div",{className:"max-w-5xl mx-auto px-4",children:[e.jsx("h2",{className:"text-xl text-gray-900 mb-4",children:t.pricingLanding.faqTitle}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 max-w-4xl",children:t.pricingLanding.faq.map(i=>e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-6 md:p-7",children:[e.jsx("h3",{className:"text-gray-900 mb-2",children:i.question}),e.jsx("p",{className:"text-sm text-gray-600",children:i.answer})]},i.question))})]})})]}),e.jsx(Dt,{}),e.jsx(At,{}),e.jsx(It,{orderTargetId:"pricing-booking",hide:!!(C||v)}),C&&e.jsx(r.Suspense,{fallback:null,children:e.jsx(Ot,{route:C,onClose:()=>I(()=>b(null))})}),v&&e.jsx(r.Suspense,{fallback:null,children:e.jsx(Et,{onClose:()=>I(()=>y(!1)),initialVehicleType:R})})]})}export{ds as PricingPage};
