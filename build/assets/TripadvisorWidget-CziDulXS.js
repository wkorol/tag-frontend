import{u as q,r as t,D as A,j as C}from"./index-BMCh0NDd.js";const z={en:"en_US",pl:"pl_PL",de:"de_DE",fi:"fi_FI",no:"nb_NO",sv:"sv_SE",da:"da_DK"};function H({locationId:R,uniq:j,href:M,requireConsent:c=!0,wtype:S,border:a,shadow:p,backgroundColor:N,ulId:v,ulClassName:g,liId:_,liClassName:h}){const{locale:U}=q(),I=t.useRef(null),[d,y]=t.useState(!1),[k,E]=t.useState(()=>typeof window=="undefined"?!1:c?A():!0),$=R||void 0||"34104207",i=j||void 0||"444",D=M||void 0||"https://www.tripadvisor.com/Attraction_Review-g274725-d34104207-Reviews-Taxi_Airport_Gdansk-Gdansk_Pomerania_Province_Northern_Poland.html",r=S||void 0||"cdsratingsonlywide",b=a!=null?a:!0,u=typeof p=="boolean"?p:null,l=N||void 0||null,f=z[U]||"en_US",L=t.useMemo(()=>`TA_${r}${i}`,[i,r]),O=t.useMemo(()=>v||`TA_links_${i}`,[v,i]),B=t.useMemo(()=>g||"TA_links",[g]),T=t.useMemo(()=>_||void 0,[_]),x=t.useMemo(()=>h||void 0,[h]),w=t.useRef(null);return t.useEffect(()=>{if(typeof window=="undefined"||d)return;const o=I.current;if(!o)return;if(!("IntersectionObserver"in window)){y(!0);return}const s=new IntersectionObserver(e=>{e.some(n=>n.isIntersecting)&&(y(!0),s.disconnect())},{rootMargin:"250px 0px"});return s.observe(o),()=>s.disconnect()},[d]),t.useEffect(()=>{if(typeof window=="undefined")return;if(!c){E(!0);return}const o=()=>E(A());o();const s=()=>o(),e=n=>{n.key==="cookie-consent"&&o()};return window.addEventListener("cookie-consent",s),window.addEventListener("storage",e),()=>{window.removeEventListener("cookie-consent",s),window.removeEventListener("storage",e)}},[c]),t.useEffect(()=>{if(typeof window=="undefined"||!k||!d)return;if(w.current){const G=T?` id="${T}"`:"",V=x?` class="${x}"`:"";w.current.innerHTML=`
        <div id="${L}" class="TA_${r}">
          <ul id="${O}" class="${B}">
            <li${G}${V}>
              <a target="_blank" rel="noopener noreferrer" href="${D}">
                <img src="https://www.tripadvisor.com/img/cdsi/img2/branding/v2/Tripadvisor_lockup_horizontal_secondary_registered-18034-2.svg" alt="TripAdvisor" width="180" height="28" decoding="async" />
              </a>
            </li>
          </ul>
        </div>
      `.trim()}const o=`tripadvisor-widget-script-${i}`,s=document.getElementById(o);if(s&&s.src.includes(`lang=${encodeURIComponent(f)}`))return;s&&s.remove();const e=document.createElement("script");e.id=o,e.async=!0;const n=new URLSearchParams;n.set("wtype",r),n.set("uniq",i),n.set("locationId",$),n.set("lang",f),n.set("border",b?"true":"false"),u!==null&&n.set("shadow",u?"true":"false"),l&&n.set("backgroundColor",l),n.set("display_version","2"),e.src=`https://www.jscache.com/wejs?${n.toString()}`,e.setAttribute("data-loadtrk",""),e.onload=()=>{e.loadtrk=!0};const m=document.getElementById(L);return m&&typeof m.insertAdjacentElement=="function"?m.insertAdjacentElement("afterend",e):document.body.appendChild(e),()=>{}},[l,b,k,d,f,$,u,i,r]),C.jsx("div",{ref:I,children:C.jsx("div",{ref:w})})}export{H as TripadvisorWidget};
