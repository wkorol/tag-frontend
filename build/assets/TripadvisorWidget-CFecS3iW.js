import{u as q,r as t,D as x,j as A}from"./index-CaKtiOSN.js";const z={en:"en_US",pl:"pl_PL",de:"de_DE",fi:"fi_FI",no:"nb_NO",sv:"sv_SE",da:"da_DK"};function H({locationId:C,uniq:R,href:j,requireConsent:c=!0,wtype:M,border:S,shadow:p,backgroundColor:N,ulId:m,ulClassName:v,liId:g,liClassName:_}){const{locale:U}=q(),h=t.useRef(null),[d,I]=t.useState(!1),[y,k]=t.useState(()=>typeof window>"u"?!1:c?x():!0),E=C||void 0||"34104207",r=R||void 0||"444",D=j||void 0||"https://www.tripadvisor.com/Attraction_Review-g274725-d34104207-Reviews-Taxi_Airport_Gdansk-Gdansk_Pomerania_Province_Northern_Poland.html",i=M||void 0||"cdsratingsonlywide",b=S??!0,a=typeof p=="boolean"?p:null,u=N||void 0||null,l=z[U]||"en_US",$=t.useMemo(()=>`TA_${i}${r}`,[r,i]),O=t.useMemo(()=>m||`TA_links_${r}`,[m,r]),B=t.useMemo(()=>v||"TA_links",[v]),L=t.useMemo(()=>g||void 0,[g]),T=t.useMemo(()=>_||void 0,[_]),f=t.useRef(null);return t.useEffect(()=>{if(typeof window>"u"||d)return;const s=h.current;if(!s)return;if(!("IntersectionObserver"in window)){I(!0);return}const o=new IntersectionObserver(e=>{e.some(n=>n.isIntersecting)&&(I(!0),o.disconnect())},{rootMargin:"250px 0px"});return o.observe(s),()=>o.disconnect()},[d]),t.useEffect(()=>{if(typeof window>"u")return;if(!c){k(!0);return}const s=()=>k(x());s();const o=()=>s(),e=n=>{n.key==="cookie-consent"&&s()};return window.addEventListener("cookie-consent",o),window.addEventListener("storage",e),()=>{window.removeEventListener("cookie-consent",o),window.removeEventListener("storage",e)}},[c]),t.useEffect(()=>{if(typeof window>"u"||!y||!d)return;if(f.current){const G=L?` id="${L}"`:"",V=T?` class="${T}"`:"";f.current.innerHTML=`
        <div id="${$}" class="TA_${i}">
          <ul id="${O}" class="${B}">
            <li${G}${V}>
              <a target="_blank" rel="noopener noreferrer" href="${D}">
                <img src="https://www.tripadvisor.com/img/cdsi/img2/branding/v2/Tripadvisor_lockup_horizontal_secondary_registered-18034-2.svg" alt="TripAdvisor" width="180" height="28" decoding="async" />
              </a>
            </li>
          </ul>
        </div>
      `.trim()}const s=`tripadvisor-widget-script-${r}`,o=document.getElementById(s);if(o&&o.src.includes(`lang=${encodeURIComponent(l)}`))return;o&&o.remove();const e=document.createElement("script");e.id=s,e.async=!0;const n=new URLSearchParams;n.set("wtype",i),n.set("uniq",r),n.set("locationId",E),n.set("lang",l),n.set("border",b?"true":"false"),a!==null&&n.set("shadow",a?"true":"false"),u&&n.set("backgroundColor",u),n.set("display_version","2"),e.src=`https://www.jscache.com/wejs?${n.toString()}`,e.setAttribute("data-loadtrk",""),e.onload=()=>{e.loadtrk=!0};const w=document.getElementById($);return w&&typeof w.insertAdjacentElement=="function"?w.insertAdjacentElement("afterend",e):document.body.appendChild(e),()=>{}},[u,b,y,d,l,E,a,r,i]),A.jsx("div",{ref:h,children:A.jsx("div",{ref:f})})}export{H as TripadvisorWidget};
