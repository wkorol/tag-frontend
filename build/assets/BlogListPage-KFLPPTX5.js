import{u as w,Q as y,r as i,e as L,j as e,L as B,l as S,F as P}from"./index-BMCh0NDd.js";import{N as R}from"./Navbar-B0SwVM7Q.js";import{g as $}from"./api-KPPBra2D.js";function F(){var m,x,d,g,h,u,b,p,j;const{t:a,locale:r}=w(),f=S(r),s=y(),[n,N]=i.useState((m=s==null?void 0:s.blogArticles)!=null?m:[]),[c,v]=i.useState(!(s!=null&&s.blogArticles));L((d=(x=a.blog)==null?void 0:x.title)!=null?d:"Blog"),i.useEffect(()=>{if(s!=null&&s.blogArticles)return;const t=$();fetch(`${t}/api/blog/articles?locale=${encodeURIComponent(r)}`).then(l=>l.json()).then(l=>{var o;N((o=l==null?void 0:l.articles)!=null?o:[])}).catch(()=>{}).finally(()=>v(!1))},[r,s]);const A=t=>{if(!t)return"";try{return new Date(t).toLocaleDateString(r,{year:"numeric",month:"long",day:"numeric"})}catch{return t.slice(0,10)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(R,{}),e.jsxs("main",{className:"mx-auto max-w-4xl px-4 py-12",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900 sm:text-4xl",children:(h=(g=a.blog)==null?void 0:g.title)!=null?h:"Blog"}),e.jsx("p",{className:"mt-2 text-lg text-slate-600",children:(b=(u=a.blog)==null?void 0:u.subtitle)!=null?b:"Travel tips and airport guides"})]}),c&&e.jsx("div",{className:"text-sm text-slate-500",children:"Loading..."}),!c&&n.length===0&&e.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center text-slate-500",children:(j=(p=a.blog)==null?void 0:p.noArticles)!=null?j:"No articles yet."}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:n.map(t=>{var l,o;return e.jsxs(B,{to:`${f}/blog/${t.slug}`,className:"group rounded-2xl border border-slate-200 bg-white p-6 shadow-sm transition-shadow hover:shadow-md",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-900 group-hover:text-blue-600 transition-colors",children:t.title}),e.jsx("p",{className:"mt-2 text-sm text-slate-600 line-clamp-3",children:t.metaDescription}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400",children:t.publishedAt?A(t.publishedAt):""}),e.jsxs("span",{className:"text-sm font-medium text-blue-600 group-hover:text-blue-700",children:[(o=(l=a.blog)==null?void 0:l.readMore)!=null?o:"Read more"," â†’"]})]})]},t.slug)})})]}),e.jsx(P,{})]})}export{F as BlogListPage};
