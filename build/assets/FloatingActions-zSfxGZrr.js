import{u as B,r as l,j as t,G as p,l as M,t as g,h as x}from"./index-I1oCfxIP.js";function L({orderTargetId:a="vehicle-selection",hide:v=!1}){const{t:c,locale:y}=B(),d=M(y),h=`https://wa.me/48694347548?text=${encodeURIComponent(c.common.whatsappMessage)}`,[m,f]=l.useState(0),[k,w]=l.useState(!1),[C,j]=l.useState(!1),[O,b]=l.useState(!1);return l.useEffect(()=>{if(typeof window>"u")return;let e=null;const o=()=>{const i=document.querySelector("[data-cookie-banner]");if(!i){f(0),w(!1),e&&(e.disconnect(),e=null);return}w(!0);const r=i.getBoundingClientRect().height;f(Math.ceil(r)+12),!e&&"ResizeObserver"in window&&(e=new ResizeObserver(()=>{const s=i.getBoundingClientRect().height;f(Math.ceil(s)+12)}),e.observe(i))};o();const n=new MutationObserver(o);return n.observe(document.body,{childList:!0,subtree:!0}),()=>{n.disconnect(),e&&e.disconnect()}},[]),l.useEffect(()=>{if(typeof window>"u"||!("IntersectionObserver"in window))return;let e=null;const o=new Set,n=()=>{const r=[document.getElementById(a),document.getElementById("pricing-booking")].filter(Boolean);if(r.length===0){b(!1);return}e||(e=new IntersectionObserver(s=>{b(s.some(u=>u.isIntersecting))},{root:null,threshold:.2})),r.forEach(s=>{o.has(s)||(e.observe(s),o.add(s))})};n();const i=new MutationObserver(n);return i.observe(document.body,{childList:!0,subtree:!0}),()=>{i.disconnect(),e&&e.disconnect()}},[a]),l.useEffect(()=>{if(typeof window>"u")return;const e=document.documentElement;let o=Math.max(e.scrollHeight,document.body.scrollHeight),n=null;const i=()=>{const E=window.scrollY<=120,z=window.innerHeight+window.scrollY>=o-120;j(!E&&!z),n=null},r=()=>{n===null&&(n=window.requestAnimationFrame(i))},s=()=>{o=Math.max(e.scrollHeight,document.body.scrollHeight),r()},u=new MutationObserver(s);return u.observe(document.body,{childList:!0,subtree:!0}),i(),window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",s),()=>{u.disconnect(),n!==null&&window.cancelAnimationFrame(n),window.removeEventListener("scroll",r),window.removeEventListener("resize",s)}},[]),v||!C||k||O?null:t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"fixed right-6 bottom-6 z-50 hidden sm:flex flex-col gap-3",style:{bottom:m+24},children:[t.jsx("a",{href:h,onClick:()=>p("whatsapp"),className:"rounded-full px-5 py-3 text-gray-900 shadow-lg flex items-center justify-center gap-2",style:{backgroundColor:"#25D366"},children:c.common.whatsapp}),t.jsx("a",{href:`${d}/`,onClick:e=>{e.preventDefault(),g("floating_order_online"),x(a)||(window.location.href=`${d}/`)},className:"rounded-full px-5 py-3 text-white shadow-lg text-center",style:{backgroundColor:"#c2410c"},children:c.common.orderOnlineNow})]}),t.jsx("div",{className:"fixed left-0 right-0 z-50 sm:hidden border-t border-slate-200 bg-white/95 px-4 py-3 backdrop-blur",style:{bottom:m},children:t.jsxs("div",{className:"flex gap-3",children:[t.jsxs("a",{href:h,onClick:()=>p("whatsapp"),className:"flex-1 rounded-full px-4 py-3 text-center text-gray-900 shadow-sm flex items-center justify-center gap-2",style:{backgroundColor:"#25D366"},children:[t.jsxs("svg",{viewBox:"0 0 32 32","aria-hidden":"true",className:"h-5 w-5 fill-current",children:[t.jsx("path",{d:"M19.11 17.72c-.26-.13-1.52-.75-1.75-.84-.24-.09-.41-.13-.58.13-.17.26-.67.84-.82 1.02-.15.17-.3.2-.56.07-.26-.13-1.1-.4-2.09-1.28-.77-.69-1.29-1.54-1.44-1.8-.15-.26-.02-.4.11-.53.12-.12.26-.3.39-.45.13-.15.17-.26.26-.43.09-.17.04-.32-.02-.45-.06-.13-.58-1.4-.79-1.92-.21-.5-.43-.43-.58-.44-.15-.01-.32-.01-.49-.01-.17 0-.45.06-.68.32-.24.26-.9.88-.9 2.15s.92 2.49 1.05 2.66c.13.17 1.81 2.76 4.4 3.87.62.27 1.1.43 1.48.55.62.2 1.18.17 1.63.1.5-.07 1.52-.62 1.74-1.22.21-.6.21-1.12.15-1.22-.06-.1-.24-.17-.5-.3z"}),t.jsx("path",{d:"M26.67 5.33A14.9 14.9 0 0016.03 1.5C8.12 1.5 1.5 8.13 1.5 16.03c0 2.4.63 4.76 1.83 6.85L1.5 30.5l7.81-1.79a14.93 14.93 0 006.72 1.61h.01c7.9 0 14.53-6.63 14.53-14.53 0-3.88-1.52-7.53-4.4-10.46zm-10.64 22.3h-.01a12.4 12.4 0 01-6.32-1.73l-.45-.27-4.64 1.06 1.24-4.52-.3-.46a12.45 12.45 0 01-2-6.68c0-6.86 5.58-12.44 12.45-12.44 3.32 0 6.43 1.3 8.77 3.65a12.33 12.33 0 013.64 8.79c0 6.86-5.59 12.44-12.38 12.44z"})]}),c.common.whatsapp]}),t.jsx("a",{href:`${d}/`,onClick:e=>{e.preventDefault(),g("sticky_order_online"),x(a)||(window.location.href=`${d}/`)},className:"flex-1 rounded-full px-4 py-3 text-center text-white shadow-sm",style:{backgroundColor:"#c2410c"},children:c.common.orderOnlineNow})]})})]})}export{L as FloatingActions};
